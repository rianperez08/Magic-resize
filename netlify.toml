[build]
  publish = "public"
  functions = "netlify/functions"

[functions]
  node_bundler = "esbuild"
  external_node_modules = ["@aws-sdk/client-s3"]

[[redirects]]
  from = "/auth/canva/start"
  to = "/.netlify/functions/auth-start"
  status = 200

[[redirects]]
  from = "/callback/canva"
  to = "/.netlify/functions/auth-callback"
  status = 200

[[redirects]]
  from = "/api/export"
  to = "/.netlify/functions/export"
  status = 200

[[redirects]]
  from = "/api/resizeExport"
  to = "/.netlify/functions/resize-export"
  status = 200

[[redirects]]
  from = "/api/disconnect"
  to = "/.netlify/functions/disconnect"
  status = 200